# Um Sistema de Gestão de Identidades Federadas e Centrado no Usuário alinhado ao Programa de Governo Eletrônico Brasileiro

Um programa de Governo Eletrônico tem como princípio democratizar o acesso à informação, ampliar discussões e dinamizar a prestação de serviços públicos. Um ponto chave para os sistemas ou aplicações de governo eletrônico é a criação de um sistema de identificação, de autenticação e de autorização de usuários. Esses sistemas são conhecidos como sistemas de gestão de identidades, do inglês, Identity Management (IdM) systems. No Brasil, o programa GOV.BR, até o momento, não definiu qual será a estratégia nacional de gestão de identidades. Este projeto tem como objetivo prover a gestão de identidades adequada ao programa GOV.BR, por meio do desenvolvimento de um sistema de gestão identidades federadas e centrado no usuário, baseado no padrão SAML. O projeto envolverá (1) a análise das estratégias nacionais de gestão de identidades federadas adotadas em outros países visando identificar as soluções tecnológicas amplamente aceitas nestes países, (2) a modelagem do sistema de gestão de identidades federadas e centrado no usuário, (3) a implementação de um protótipo do sistema e a sua integração em um estudo de caso (aplicação de eGov) para verificação da sua aplicabilidade e (4) a realização de testes de software, que contribuirão para aferir a conformidade com o padrão SAML e os impactos da solução na usabilidade e funcionalidades da aplicação. Por fim, (5) a divulgação dos resultados desta pesquisa, na forma de artigos e relatórios técnicos.

Palavras-chave: Gestão de Identidades, Governo Eletrônico, Gestão de Identidades Federadas.

## Implementação do Protótipo
Esta etapa de implementação foi divida em quatro atividades conforme descritas a seguir:
### Implementação da aplicação de registro de ocorrências
O aplicativo é baseado à serviço. Sendo assim, a aplicação front-end (parte visual da aplicação: páginas, componentes visuais, estilo de cores e botões) armazenada no dispositivo do usuário e as informações do aplicativo ficarão armazenadas em um servidor disponibilizado via serviço web. As duas partes, assim chamas de camadas, se comunicarão via HTTP, utilizando seus métodos(GET, SET, PUT, DELETE). Porém, temos uma exceção neste arquitetura de serviço por termos o mecanismo de autenticação contido também no cliente(dispositivo smartphone) com suas credenciais. 
O Front-End desenvolvendo com as linguagens estáticas HTML e CSS para definir layouts e estilo das páginas. Para o controle das ações de tela utilizado a linguagem JavaScript. Para facilitar o desenvolvimento utilizadou-se framework IONIC desenvolvido em Javascript dedicado para criação de aplicativos para plataformas Android e IOS. O IONIC é uma evolução do Cordova, desenvolvido em java e JavaScript, a vantagem de utilizá-lo é criação de plugins e integrar às plataformas, no caso da plataforma Android desenvolvido em Java e IOS desenvolvido em Objective-C. Para solução da autenticação, foi feito experimento com desenvolvendo do plugin que conterá a implementação da autenticação. O IONIC é integrado com o framework AngularJS e segue suas arquitetura no projeto inicial. O AngularJS é implementado em Javascript e facilita na controle das páginas com eventos, listagens, encapsulamento de objetos seguindo padrões do formato JSON, separação de camadas, acesso à camada HTTP, entre muitas facilidades disponíveis.
A back-end desenvolvido e disponibilizado via serviços REST. Para isso, foi desenvolvido em java utilizando o framework Spring e executada em um servidor de aplicação, como um Tomcat. O Spring possui métodos implícitos que faz o REST ser implementado com mais facilidade e de claro entendimento na manutenção. O armazenamento feito em um base de dados, com a utilização do SGBD MySQL.
### Configuração de serviço de gestão de identidade Firebase Auth
Na plataforma Firebase da Google é possível criar um projeto e nele utilizar recursos da plataforma. Um dos recursos é a gestão de identidade dos usuários. Então, com a utilização do recurso Auth foi possível validar a gestão de identidade com o Google. 
### Implementação de uma Aplicação Cliente de autenticação com Firebase Auth
Para fim de validação do serviço de autenticação do Firebase Auth, que é o serviço de gestão de identidade que o Google disponibiliza, foi desenvolvido uma aplicação web com o framewark Angular JS que exige autenticação para acessar a área privada. Disponibiliza acesso via registro ou login com o a sessão da conta Google.
### Configuração da aplicação de gestão de identidade MITREid Connect
MITREid é uma implementação código aberto do OpenID Connect e OAuth 2.0 do MITRE Corporation e MIT Internet Confiança Consortium (ITC). Para representar o servidor de autenticação federado o OpenID Connect Server foi o escolhido. No seu repositório no GIT possui diversas implementações, a escolhida foi desenvolvida em linguagem Java e com o framework Spring. Esta aplicação foi configurada à IDE de desenvolvimento Eclipse, compilada e gerado seu build para ser posto em um servidor web Tomcat. Para validar o servidor de autenticação, também possui em seu repositório uma aplicação que simula a conexão de clientes. Esta foi configurada à IDE eclipse e executado no servidor web Tomcat.
## Avaliação do Protótipo
Durante o desenvolvimento do protótipo, testes de unidade foram realizados. Os erros encontrados foram corrigidos e os testes foram refeitos. Alguns testes de integração foram realizados, porém, com o protótipo não foi 100% finalizado, alguns casos de testes previstos não foram executados, dentre estes, os testes de integração com provedor de identidade.
## Documentação e Divulgação de Resultados
Os relatórios parciais, alguns resumos dos estudos realizados e o presente relatório foram redigidos nesta etapa.

## CONSIDERAÇÕES FINAIS
O uso do modelo centrado no usuário em programas de governo participativo é interessante devido a possibilidade de o usuário selecionar quais informações deseja liberar aos provedores de serviços, respeitando assim a privacidade dos usuários. Na solução proposta, por meio do modelo centrado no usuário, os cidadãos terão a possibilidade ainda de interagir com as aplicações e-Gov a partir de serviços de autenticação comumente utilizados, como por exemplo, o framework OpenID Connect ou o Facebook Connect.
Na solução proposta, o padrão SAML será usado para representar informações de segurança (credenciais de autenticação) na forma de asserções e na troca dinâmica de informações de segurança entre parceiros da federação governamental. Para que os processos de colaboração G2B, G2G e G2C se concretizem, o sistema proposto deve ainda contemplar um modelo de gestão de confiança (Trust Framework) que definirá como as relações de confiança entre os domínios administrativos deverão ser estabelecidas, como os níveis de garantia (Level of Assurance - LoA) podem ser definidos e avaliados e quais regras comuns  são necessárias para operação da federação de serviços governamentais.

## SUGESTÕES PARA DESDOBRAMENTO DA PESQUISA
Os experimentos de integração do aplicativo mobile com servidor de autenticação não foi concluída, por ocorrência de erros inesperados que necessitam de uma analise detalhada. Por este motivo foi implementado a aplicação web para validar a autenticação ao Server MITREid.
Para a aplicação mobile dar continuidade e implementação de melhorias, sugere-se integrar a câmera e a localização do dispositivo ao aplicativo desenvolvido. Isso facilitará o uso e gerará acertividade para as informações assim cadastradas.
Pesquisar sobre integração do MITREid à plataforma Firebase. Visto que, o Facebook, Google, Github e Twiter possuiem integração com a plataforma, verificar o possibilidade adicionar o servidor de gestão de identidide MITREid à Firebase Auth.


